<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sudoku Array Remove numbers as per Level</title>
</head>

<body>
    <body onload="generateBoard(2)">
        <h2>Sudoku Puzzle Generator (remove number as per level)</h2>
        <div class=" max-550">
            <p>Random SUDOKU Puzzle board generator based on difficulty Level</p>
            <div style="display: inline;" id="difficultyButton">
                <button onclick="generateBoard(0)"> Beginner </button>
                <button onclick="generateBoard(1)"> Easy </button>
                <button onclick="generateBoard(2)"> Normal </button>
                <button onclick="generateBoard(3)"> Hard </button>
                <button onclick="generateBoard(4)"> Master </button>
            </div>
            <p id="Arr"></p>
        </div>
    </body>

    <script>
        /*
     * Sudoku board Generator
     * Ramon Morcillo @reymon359
     */
        function generateBoard(difficulty) {
            console.log("difficulty",difficulty);
            // one solved board to create new puzzle

            
            let board = [
                [2, 8, 6, 7, 5, 4, 9, 3, 1],
                [9, 3, 1, 2, 8, 6, 7, 5, 4],
                [7, 5, 4, 9, 1, 3, 8, 6, 2],
                [8, 9, 2, 6, 7, 5, 4, 1, 3],
                [6, 7, 5, 4, 3, 1, 2, 9, 8],
                [4, 1, 3, 8, 9, 2, 6, 7, 5],
                [5, 6, 9, 3, 4, 8, 1, 2, 7],
                [3, 4, 7, 1, 2, 9, 5, 8, 6],
                [1, 2, 8, 5, 6, 7, 3, 4, 9]
            ];
            
            printArray(board);

            let min = difficulty;
            let max = min + 2;
            console.log("min/difficulty ", min, "max ", max);
            let text = "";

            board.forEach((row) => {
            console.log("row ", row);
                let toReplace = shuffleArray([0, 1, 2, 3, 4, 5, 6, 7, 8]);

                let rnd = Math.floor(Math.random() * (max - min + 1) + min);
                for (let i = 0; i < rnd; i++) {
                    row[toReplace[i]] = '';
                }

            });
            printArray(board);


        }

        // -------SHUFFLE ARRAY------------
        function shuffleArray(array) {
            // console.log("array ", array, "array.length",array.length);
            
            let currentIndex = array.length,
            temporaryValue, randomIndex;
            // console.log("temporaryValue ", temporaryValue, "randomIndex", randomIndex);
            // While there remain elements to shuffle inside the array
            while (0 !== currentIndex) {

                // console.log("currentIndex ", currentIndex, "randomIndex", randomIndex);

                // Pick a remaining element from the array
                randomIndex = Math.floor(Math.random() * currentIndex);
                // console.log("currentIndex ", currentIndex, "randomIndex", randomIndex);

                // randomIndex is a random number between 0 and the array position
                currentIndex -= 1;
                // console.log("currentIndex ", currentIndex, "randomIndex", randomIndex);

                // We get a new currentIndex and swap it with the current element.
                temporaryValue = array[currentIndex];
                // We save the currentIndex value in temporaryValue
                array[currentIndex] = array[randomIndex];
                // Now we fill the new currentIndex position with the value from the randomIndex
                array[randomIndex] = temporaryValue;
                // Lastly in the randomIndex position we put the temporaryValue we saved before
                // console.log("currentIndex ", currentIndex, "randomIndex", randomIndex);
                // console.log("temporaryValue ", temporaryValue, "array[currentIndex] ", array[currentIndex], "array[randomIndex] ", array[randomIndex]);
            }
            return array;
        }

        function printArray(Array) {
            text = "";
            for (i=0;i<9;i++){
                for (j=0;j<9;j++){
                    text += Array[i][j] + ", ";
                }
                text += "<br>";
            }
            document.getElementById("Arr").innerHTML = text;
        }
    </script>
</body>

</html>